"use strict";(self.webpackChunk_mll_lab_react_components=self.webpackChunk_mll_lab_react_components||[]).push([[2962],{"./src/Card/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Card});var antd_lib_card__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/antd/lib/card/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_styled_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled-utils.ts"),StyledCard=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(antd_lib_card__WEBPACK_IMPORTED_MODULE_0__.A).withConfig({displayName:"Card__StyledCard",componentId:"sc-1s43bdt-0"})(["&,.mll-ant-card-head,.mll-ant-card-head-title,.mll-ant-tabs-large > .mll-ant-tabs-nav .mll-ant-tabs-tab,.mll-ant-card-meta-title,.mll-ant-card-extra{font-size:",";}&.mll-ant-card-bordered{border:1px solid ",";}"],_styled_utils__WEBPACK_IMPORTED_MODULE_2__.o,function(props){return props.theme.containerBorderColor}),Card=StyledCard;Card.Grid=StyledCard.Grid,Card.Meta=StyledCard.Meta},"./src/MasterMix/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/MasterMix/index.tsx"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const __WEBPACK_DEFAULT_EXPORT__={title:"MasterMix",component:_index__WEBPACK_IMPORTED_MODULE_1__.B1,args:{name:"Example Mix",count:20,ingredients:[{key:1,title:"Water",volume:12},{key:2,title:"Primer Forward",volume:1},{key:3,title:"Primer Reverse",volume:1},{key:4,title:"Probe",volume:1}],lossType:"factorWithMinimum",lossValue:.1,minPositions:2},argTypes:{name:{control:"text"},count:{control:{type:"number",min:1}},ingredients:{control:"object"},lossType:{control:"radio",options:["absolute","factor","factorWithMinimum"]},lossValue:{control:{type:"number",min:0,step:.1}},minPositions:{control:{type:"number",min:0},if:{arg:"lossType",eq:"factorWithMinimum"}},pipettingLoss:{table:{disable:!0}}}};function Default(_a){var _a$lossType=_a.lossType,lossType=void 0===_a$lossType?"factorWithMinimum":_a$lossType,_a$lossValue=_a.lossValue,lossValue=void 0===_a$lossValue?.1:_a$lossValue,_a$minPositions=_a.minPositions,minPositions=void 0===_a$minPositions?2:_a$minPositions,props=__rest(_a,["lossType","lossValue","minPositions"]),pipettingLoss=function(){switch(lossType){case"absolute":return{type:lossType,count:lossValue};case"factor":return{type:lossType,factor:lossValue};case"factorWithMinimum":return{type:lossType,factor:lossValue,minPositions}}}();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index__WEBPACK_IMPORTED_MODULE_1__.B1,Object.assign({},props,{pipettingLoss}))}Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Default({\n  lossType = 'factorWithMinimum',\n  lossValue = 0.1,\n  minPositions = 2,\n  ...props\n}: MasterMixProps & {\n  lossType: 'absolute' | 'factor' | 'factorWithMinimum';\n  lossValue: number;\n  minPositions?: number;\n}): ReactElement {\n  const pipettingLoss = ((): PipettingLoss => {\n    switch (lossType) {\n      case 'absolute':\n        return {\n          type: lossType,\n          count: lossValue\n        };\n      case 'factor':\n        return {\n          type: lossType,\n          factor: lossValue\n        };\n      case 'factorWithMinimum':\n        return {\n          type: lossType,\n          factor: lossValue,\n          minPositions\n        };\n    }\n  })();\n  return <MasterMix {...props} pipettingLoss={pipettingLoss} />;\n}",...Default.parameters?.docs?.source}}}},"./src/MasterMix/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B1:()=>MasterMix});var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),dist=__webpack_require__("./node_modules/@mll-lab/js-utils/dist/index.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Card=__webpack_require__("./src/Card/index.tsx"),Table=__webpack_require__("./src/Table/index.tsx"),Typography=__webpack_require__("./src/Typography/index.tsx"),Tooltip=__webpack_require__("./src/Tooltip/index.tsx");function calculatePipettingLosses(count,pipettingLoss){var volume=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{factorLoss:volume*count*pipettingLoss.factor,minPositionsLoss:volume*pipettingLoss.minPositions}}function pipettingLossTitle(pipettingLoss,count){switch(pipettingLoss.type){case"absolute":return"".concat(pipettingLoss.count,"x");case"factor":return"".concat(100*pipettingLoss.factor,"%");case"factorWithMinimum":var _calculatePipettingLo=calculatePipettingLosses(count,pipettingLoss);return _calculatePipettingLo.factorLoss>_calculatePipettingLo.minPositionsLoss?"".concat((100*pipettingLoss.factor).toFixed(0),"%"):"".concat(pipettingLoss.minPositions,"x")}}function pipettingLossTableColumn(args){return{title:react.createElement(Tooltip.m_,{title:"Pipettierverlust"},args.count,"x Ansätze +"," ",pipettingLossTitle(args.pipettingLoss,args.count)," (PV)"),render:function render(_,record){return react.createElement(react.Fragment,null,function totalVolume(record,args){switch(args.pipettingLoss.type){case"absolute":return(record.volume*(args.count+args.pipettingLoss.count)).toFixed(1);case"factor":return(record.volume*args.count+record.volume*args.count*args.pipettingLoss.factor).toFixed(1);case"factorWithMinimum":var baseVolume=record.volume*args.count,_calculatePipettingLo2=calculatePipettingLosses(args.count,args.pipettingLoss,record.volume),factorLoss=_calculatePipettingLo2.factorLoss,minPositionsLoss=_calculatePipettingLo2.minPositionsLoss;return(baseVolume+Math.max(factorLoss,minPositionsLoss)).toFixed(1)}}(record,args)," µl")}}}var TOTAL_VOLUME_ROW_CLASS="total-volume-row",MasterMixTable=(0,styled_components_browser_esm.Ay)(Table.XI).withConfig({displayName:"MasterMix__MasterMixTable",componentId:"sc-nes2m3-0"})([".","{background-color:lightgrey;}"],TOTAL_VOLUME_ROW_CLASS);function MasterMix(props){var _useState=(0,react.useState)([]),_useState2=(0,slicedToArray.A)(_useState,2),highlightedEntries=_useState2[0],setHighlightedEntries=_useState2[1],ingredientsWithSumRow=[].concat((0,toConsumableArray.A)(props.ingredients),[{key:"Total Volume (non-numeric string, guaranteed to be unique since ingredients keys must be of type number)",title:react.createElement("h4",null,"Gesamtvolumen"),volume:props.ingredients.reduce(function(volumeAccumulator,ingredient){return volumeAccumulator+ingredient.volume},0)}]);return react.createElement(Card.Z,{title:react.createElement(Typography.o.Title,{level:5},props.name," MasterMix")},react.createElement(MasterMixTable,{style:{maxWidth:400},rowClassName:function rowClassName(record,index){return index===props.ingredients.length?TOTAL_VOLUME_ROW_CLASS:highlightedEntries.includes(record.key.toString())?"mll-ant-table-row-selected":""},dataSource:ingredientsWithSumRow,rowKey:function rowKey(record){return record.key},pagination:{defaultPageSize:10,hideOnSinglePage:!0},onRow:function onRow(record,index){return{onClick:function onClick(){index!==props.ingredients.length&&setHighlightedEntries(function(prevIDs){return(0,dist.Z7)(prevIDs,record.key.toString())})}}},columns:[{title:"Name",render:function render(_,record){return record.title}},{title:"1x",render:function render(_,record){return react.createElement(react.Fragment,null,record.volume.toFixed(1)," µl")}},pipettingLossTableColumn(props)]}))}},"./src/Table/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>Table,j4:()=>ColoredTable});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js"),antd_lib_table__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/antd/lib/table/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_Spinner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Spinner/index.tsx"),_styled_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/styled-utils.ts"),_theme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/theme.ts"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},StyledTable=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(antd_lib_table__WEBPACK_IMPORTED_MODULE_1__.A).withConfig({displayName:"Table__StyledTable",componentId:"sc-cc98o2-0"})([".mll-ant-table{font-size:",";}.mll-ant-table-placeholder{z-index:990 !important;}",""],_styled_utils__WEBPACK_IMPORTED_MODULE_5__.o,function(props){var _a,_b;return(null===(_b=null===(_a=props.onRow)||void 0===_a?void 0:_a.call(props,{}))||void 0===_b?void 0:_b.onClick)?"\n        tbody tr:hover {\n          cursor: pointer;\n        }\n        ":""});function Table(_a){var _b,_c,loading=_a.loading,rest=__rest(_a,["loading"]);return react__WEBPACK_IMPORTED_MODULE_2__.createElement(StyledTable,Object.assign({rowKey:"id"},rest,{loading:"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__.A)(loading)?Object.assign(Object.assign({},loading),{indicator:null!==(_b=loading.indicator)&&void 0!==_b?_b:_Spinner__WEBPACK_IMPORTED_MODULE_4__.jV,size:null!==(_c=loading.size)&&void 0!==_c?_c:"large"}):{spinning:Boolean(loading),indicator:_Spinner__WEBPACK_IMPORTED_MODULE_4__.jV,size:"large"}}))}var ColoredTable=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.Ay)(Table).withConfig({displayName:"Table__ColoredTable",componentId:"sc-cc98o2-1"})(["border:1px solid ",";border-radius:2px;.mll-ant-table table,.mll-ant-table .mll-ant-table-container,.mll-ant-table.mll-ant-table-bordered .mll-ant-table-container{border:none;}.mll-ant-table.mll-ant-table-bordered .mll-ant-table-container table,.mll-ant-table.mll-ant-table-bordered .mll-ant-table-container .mll-ant-table-content table{border-top:none;}th.mll-ant-table-cell{background-color:",";color:",";}th.mll-ant-table-column-has-sorters:hover{background-color:",";}th .mll-ant-table-column-sorter-up.active,th .mll-ant-table-column-sorter-down.active{color:white;}td{background-color:white;}td.mll-ant-table-column-sort{background:none;}.mll-ant-table.mll-ant-table-small tr td{padding-left:2px;}.mll-ant-table.mll-ant-table-fixed-header tr:not(.mll-ant-table-expanded-row):nth-child( odd of tr:not(.mll-ant-table-expanded-row) ) > td,.mll-ant-table:not(.mll-ant-table-fixed-header) tr:not(.mll-ant-table-expanded-row):nth-child( even of tr:not(.mll-ant-table-expanded-row) ) > td{background-color:",";}.mll-ant-table.mll-ant-table-fixed-header tr:nth-child(odd) td.mll-ant-table-cell-row-hover,.mll-ant-table:not(.mll-ant-table-fixed-header) tr:nth-child(even) td.mll-ant-table-cell-row-hover{background-color:",";}.mll-ant-table.mll-ant-table-bordered thead.mll-ant-table-thead tr > th.mll-ant-table-cell{border-right:1px solid ",";padding-left:2px;}.mll-ant-table-cell-scrollbar{box-shadow:none;}.mll-ant-table.mll-ant-table-bordered table thead.mll-ant-table-thead tr > th.mll-ant-table-cell.mll-ant-table-selection-column,.mll-ant-table.mll-ant-table-bordered table thead.mll-ant-table-thead tr > th.mll-ant-table-cell:last-child{border-right:1px solid ",";}.mll-ant-table.mll-ant-table-bordered table tr > td.mll-ant-table-cell.mll-ant-table-selection-column{border-right:none;}.mll-ant-table-container table > thead > tr:first-child th:last-child,.mll-ant-table-container table > thead > tr:first-child th:first-child{border-radius:0;}.mll-ant-table table  tr:not( .mll-ant-table-expanded-row ):nth-child( n  ).mll-ant-table-row.mll-ant-table-row-selected > td.mll-ant-table-cell{background-color:",";}"],function(props){return props.theme.borderColor},function(props){return props.theme.tableHeaderBackgroundColor},function(props){return props.theme.tableHeaderFontColor},function(props){return props.theme.borderColor},function(props){return props.theme.tableRowStripeBackgroundColor},_theme__WEBPACK_IMPORTED_MODULE_6__.Ab.gray1,function(props){return props.theme.borderColor},function(props){return props.theme.tableHeaderBackgroundColor},function(props){return props.theme.focusedRowColor});Table.Column=antd_lib_table__WEBPACK_IMPORTED_MODULE_1__.A.Column,Table.ColumnGroup=antd_lib_table__WEBPACK_IMPORTED_MODULE_1__.A.ColumnGroup,Table.Summary=antd_lib_table__WEBPACK_IMPORTED_MODULE_1__.A.Summary},"./src/Tooltip/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a8:()=>DateWithTooltip,m_:()=>Tooltip,w1:()=>TextWithTooltipIfTrimmed});var antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/antd/lib/tooltip/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/formatDistanceToNow/index.js"),date_fns_locale__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/date-fns/esm/locale/de/index.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),Tooltip=antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_0__.default;function DateWithTooltip(props){return react__WEBPACK_IMPORTED_MODULE_4__.createElement(Tooltip,{title:(0,date_fns__WEBPACK_IMPORTED_MODULE_1__.A)(props.date,"EEEE, dd. MMMM. yyyy HH:mm",{locale:date_fns_locale__WEBPACK_IMPORTED_MODULE_3__.A})},react__WEBPACK_IMPORTED_MODULE_4__.createElement("span",null,(0,date_fns__WEBPACK_IMPORTED_MODULE_2__.A)(props.date,{locale:date_fns_locale__WEBPACK_IMPORTED_MODULE_3__.A,addSuffix:!0})))}var TRIMMED_SUFFIX="..";function TextWithTooltipIfTrimmed(props){return props.text.length>props.maxChars?react__WEBPACK_IMPORTED_MODULE_4__.createElement(Tooltip,{title:props.text},props.text.substring(0,props.maxChars-TRIMMED_SUFFIX.length),TRIMMED_SUFFIX):react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Fragment,null,props.text)}},"./src/Typography/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>Typography});var Typography=__webpack_require__("./node_modules/antd/lib/typography/index.js").A},"./src/styled-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function fontSizeFromTheme(_ref){return _ref.theme.fontSize}__webpack_require__.d(__webpack_exports__,{o:()=>fontSizeFromTheme})}}]);