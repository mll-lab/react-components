"use strict";(self.webpackChunk_mll_lab_react_components=self.webpackChunk_mll_lab_react_components||[]).push([[4770],{"./src/Plate/coordinateSystem12x8.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>COORDINATE_SYSTEM_12X8});var COORDINATE_SYSTEM_12X8={rows:["A","B","C","D","E","F","G","H"],columns:[1,2,3,4,5,6,7,8,9,10,11,12]}},"./src/Plate/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ColumnFlow:()=>ColumnFlow,Default:()=>Default,RowFlow:()=>RowFlow,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/theme.ts"),_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Plate/coordinateSystem12x8.ts"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Plate/utils.ts"),_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Plate/index.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Plate",args:{isDraggable:!1,loading:!1}};var data=[{coordinates:{row:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.rows[0],column:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.columns[6]},content:react__WEBPACK_IMPORTED_MODULE_1__.createElement("i",null,"It renders any ReactNode")},{coordinates:{row:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.rows[0],column:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.columns[7]},content:"Test",color:_theme__WEBPACK_IMPORTED_MODULE_2__.Ab.red},{coordinates:{row:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.rows[1],column:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.columns[2]},content:"Some text"},{coordinates:{row:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.rows[2],column:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r.columns[2]},content:react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",null,"Kontrolle"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null),"Test Test Test Test Test Test",react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",null,"Kontrolle"))}],COORDINATE_SYSTEM_96_WELL_POSITIONS=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.zR)(_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r),rowFlowData=COORDINATE_SYSTEM_96_WELL_POSITIONS.map(function(well){return{coordinates:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.I3)(well,"row",_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r),content:well}}),columnFlowData=COORDINATE_SYSTEM_96_WELL_POSITIONS.map(function(well){return{coordinates:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.I3)(well,"column",_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r),content:well}}),Template=function Template(args){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_index__WEBPACK_IMPORTED_MODULE_5__.T6,Object.assign({data:null,coordinateSystem:_coordinateSystem12x8__WEBPACK_IMPORTED_MODULE_3__.r,dndContextProps:{onDragEnd:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.XI)("onDragEnd")}},args))},Default=Template.bind({});Default.args={data};var RowFlow=Template.bind({});RowFlow.args={data:rowFlowData};var ColumnFlow=Template.bind({});ColumnFlow.args={data:columnFlowData},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Template(args) {\n  return <Plate data={null} coordinateSystem={COORDINATE_SYSTEM_12X8} dndContextProps={{\n    onDragEnd: action('onDragEnd') // dataLocation: `const sourceData = e.active.data.current; const targetData = e.over?.data.current;`\n  }} {...args} />;\n}",...Default.parameters?.docs?.source}}},RowFlow.parameters={...RowFlow.parameters,docs:{...RowFlow.parameters?.docs,source:{originalSource:"function Template(args) {\n  return <Plate data={null} coordinateSystem={COORDINATE_SYSTEM_12X8} dndContextProps={{\n    onDragEnd: action('onDragEnd') // dataLocation: `const sourceData = e.active.data.current; const targetData = e.over?.data.current;`\n  }} {...args} />;\n}",...RowFlow.parameters?.docs?.source}}},ColumnFlow.parameters={...ColumnFlow.parameters,docs:{...ColumnFlow.parameters?.docs,source:{originalSource:"function Template(args) {\n  return <Plate data={null} coordinateSystem={COORDINATE_SYSTEM_12X8} dndContextProps={{\n    onDragEnd: action('onDragEnd') // dataLocation: `const sourceData = e.active.data.current; const targetData = e.over?.data.current;`\n  }} {...args} />;\n}",...ColumnFlow.parameters?.docs?.source}}}},"./src/Plate/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T6:()=>Plate});var spin=__webpack_require__("./node_modules/antd/lib/spin/index.js"),core_esm=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),Spinner=__webpack_require__("./src/Spinner/index.tsx");function ColumnLabel(_ref){var column=_ref.column;return react.createElement("span",{style:{display:"flex",justifyContent:"center",padding:"4px"}},react.createElement("strong",null,column))}function RowLabel(_ref){var row=_ref.row;return react.createElement("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},react.createElement("strong",null,row))}var theme=__webpack_require__("./src/theme.ts"),PLATE_FLOW="row",utils=__webpack_require__("./src/Plate/utils.ts"),GENERAL_WELL_STYLE={backgroundColor:theme.Ab.gray3,border:"1px solid ".concat(theme.Ab.gray4),borderRadius:2,boxShadow:"0 0.5px 1.5px ".concat(theme.Ab.gray4),padding:4};function EmptyWell(_ref){var coordinateSystem=_ref.coordinateSystem,position=_ref.position,row=(0,utils.$b)(position,PLATE_FLOW,coordinateSystem),column=(0,utils.PD)(position,PLATE_FLOW,coordinateSystem),_useDroppable=(0,core_esm.zM)({id:position,data:{coordinates:{row,column}}}),setNodeRef=_useDroppable.setNodeRef,isOver=_useDroppable.isOver;return react.createElement("div",{ref:setNodeRef,style:Object.assign(Object.assign({},GENERAL_WELL_STYLE),{borderColor:isOver?theme.Ab.red:void 0,color:theme.Ab.gray1,display:"flex",justifyContent:"center",alignItems:"center"})},react.createElement("small",null,row+column))}var utilities_esm=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js");function FilledWell(_ref){var _a,coordinateSystem=_ref.coordinateSystem,isDraggable=_ref.isDraggable,position=_ref.position,well=_ref.well,data={coordinates:{row:(0,utils.$b)(position,PLATE_FLOW,coordinateSystem),column:(0,utils.PD)(position,PLATE_FLOW,coordinateSystem)}},_useDraggable=(0,core_esm.PM)({id:position,data,disabled:!isDraggable}),attributes=_useDraggable.attributes,listeners=_useDraggable.listeners,setNodeRef=_useDraggable.setNodeRef,transform=_useDraggable.transform;return react.createElement("div",Object.assign({},attributes,listeners,{ref:setNodeRef,style:Object.assign(Object.assign({},GENERAL_WELL_STYLE),{transform:utilities_esm.Ks.Translate.toString(transform),backgroundColor:null!==(_a=well.color)&&void 0!==_a?_a:theme.Ab.gray3})}),well.content)}function Well(_ref){var coordinateSystem=_ref.coordinateSystem,isDraggable=_ref.isDraggable,position=_ref.position,well=_ref.well;return(null==well?void 0:well.content)?react.createElement(FilledWell,{well,coordinateSystem,position,isDraggable}):react.createElement(EmptyWell,{position,coordinateSystem})}__webpack_require__("./src/Plate/coordinateSystem12x8.ts");function Plate(_ref){var coordinateSystem=_ref.coordinateSystem,data=_ref.data,dndContextProps=_ref.dndContextProps,isDraggable=_ref.isDraggable,loading=_ref.loading;return data&&(0,utils.EV)(data),react.createElement(core_esm.Mp,Object.assign({},dndContextProps),react.createElement(spin.default,{spinning:null!=loading&&loading,indicator:react.createElement(Spinner.EB,{style:{width:"2em"}})},react.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr".concat(" 4fr".repeat(coordinateSystem.columns.length)),gridGap:"3px"}},react.createElement("span",null),coordinateSystem.columns.map(function(column){return react.createElement(ColumnLabel,{key:column,column})}),(0,utils.zR)(coordinateSystem).map(function(position){return react.createElement(react.Fragment,{key:position},1===(0,utils.PD)(position,PLATE_FLOW,coordinateSystem)&&react.createElement(RowLabel,{row:(0,utils.$b)(position,PLATE_FLOW,coordinateSystem)}),react.createElement(Well,{position,coordinateSystem,well:data?(0,utils.B$)(position,data,PLATE_FLOW,coordinateSystem):null,isDraggable:null!=isDraggable&&isDraggable}))}))))}},"./src/Plate/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$b:()=>rowForPosition,B$:()=>wellAtPosition,EV:()=>assertUniquePositions,I3:()=>coordinatesForPosition,PD:()=>columnForPosition,zR:()=>allCoordinateSystemPositions});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js");function rowForPosition(position,flowDirection,coordinateSystem){switch(flowDirection){case"row":return coordinateSystem.rows[Math.floor((position-1)/coordinateSystem.columns.length)];case"column":return coordinateSystem.rows[(position-1)%coordinateSystem.rows.length];default:throw new Error("Unknown flow direction: ".concat(flowDirection))}}function columnForPosition(position,flowDirection,coordinateSystem){switch(flowDirection){case"row":return coordinateSystem.columns[(position-1)%coordinateSystem.columns.length];case"column":return coordinateSystem.columns[Math.floor((position-1)/coordinateSystem.rows.length)];default:throw new Error("Unknown flow direction: ".concat(flowDirection))}}function coordinatesForPosition(position,flowDirection,coordinateSystem){return{row:rowForPosition(position,flowDirection,coordinateSystem),column:columnForPosition(position,flowDirection,coordinateSystem)}}function wellAtPosition(position,data,flowDirection,coordinateSystem){return data.find(function(well){return well.coordinates.row===rowForPosition(position,flowDirection,coordinateSystem)&&well.coordinates.column===columnForPosition(position,flowDirection,coordinateSystem)})}function assertUniquePositions(data){var positions=data.map(function(well){return"".concat(well.coordinates.row).concat(well.coordinates.column)});if((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)(positions).length!==data.length)throw new Error('Property "data" contains records with non-unique positions.')}function allCoordinateSystemPositions(coordinateSystem){return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.range)(1,coordinateSystem.rows.length*coordinateSystem.columns.length+1)}}}]);